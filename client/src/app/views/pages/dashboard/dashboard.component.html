<div *ngIf="user$ | async as _user">
	<div class="row" *ngIf="_user.roles[0] == 2">
		<div class="col-xl-6">
			<div class="card" style="background-color: rgb(39, 41, 61);border: 0px;">
				<div class="card-body" style="min-height: 650px;">
					<mat-tab-group>
						<mat-tab label="FTSE 100 Index">
							<!-- <div class="example-header">
								<mat-form-field>
								<input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
								</mat-form-field>
							</div> -->
							<div class="example-container mat-elevation-z8">
								<div class="example-loading-shade"
									*ngIf="isLoadingResults || isRateLimitReached">
									<mat-spinner *ngIf="isLoadingResults"></mat-spinner>
									<div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
									GitHub's API rate limit has been reached. It will be reset in one minute.
									</div>
								</div>
								<mat-table [dataSource]="dataSource" matSort>
									<ng-container matColumnDef="COMPANY">
										<mat-header-cell *matHeaderCellDef mat-sort-header> COMPANY </mat-header-cell>
										<mat-cell *matCellDef="let row"> {{row.name}} </mat-cell>
									</ng-container>
									<ng-container matColumnDef="PRICE">
										<mat-header-cell *matHeaderCellDef mat-sort-header> PRICE </mat-header-cell>
										<mat-cell *matCellDef="let row"> {{row.pc}} </mat-cell>
									</ng-container>
									<ng-container matColumnDef="LOW">
										<mat-header-cell *matHeaderCellDef mat-sort-header> LOW </mat-header-cell>
										<mat-cell *matCellDef="let row"> {{row.l}} </mat-cell>
									</ng-container>
									<ng-container matColumnDef="HIGH">
										<mat-header-cell *matHeaderCellDef mat-sort-header> HIGH </mat-header-cell>
										<mat-cell *matCellDef="let row"> {{row.h}} </mat-cell>
									</ng-container>
									<ng-container matColumnDef="ACTIONS">
										<mat-header-cell *matHeaderCellDef>ACTIONS</mat-header-cell>
										<mat-cell *matCellDef="let row">
											<button (click)="onSelCompany(row.symbol)" mat-icon-button color="primary">
												<mat-icon>remove_red_eye</mat-icon>
											</button>
										</mat-cell>
									</ng-container>
									<!-- <ng-container matColumnDef="change">
										<mat-header-cell *matHeaderCellDef mat-sort-header> Change </mat-header-cell>
										<mat-cell *matCellDef="let row"> {{row.change}} </mat-cell>
									</ng-container> -->
									<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
										<mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
								</mat-table>
								<!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator> -->
							</div>
						</mat-tab>
					</mat-tab-group>
				</div>
			</div>
		</div>
		<!-- <div id="chartdiv" style="height: 500px;"></div> -->
		<div class="col-xl-6">
			<div class="card"style="background-color: rgb(39, 41, 61);border: 0px;">
				<div class="card-body">
					<!-- <kt-widget14 [title]="'Lioyds Banking Group PLC'" [desc]="'Check out each collumn for more details'"></kt-widget14> -->
					<!-- <kt-widget14 [title]="'Lioyds Banking Group PLC'"></kt-widget14> -->
					<div class="kt-portlet">
						<div class="kt-portlet__head">
							<div class="kt-portlet__head-label">
								<span class="kt-portlet__head-icon kt-hidden">
									<i class="la la-gear"></i>
								</span>
								<h3 class="kt-portlet__head-title" style="color: white;">
									Market Performance
								</h3>
							</div>
						</div>
						<div class="kt-portlet__body">
							<div id="chartdiv" style="width: 100%; height: 500px" ></div>
							<!-- <div id="kt_amcharts_6" style="height: 500px;"></div> -->
							<!-- <div id="kt_amcharts_4" style="height: 500px;"></div> -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row" *ngIf="_user.roles[0] == 2">
		<div class="kt-space-20"></div>
		<div class="col-xl-12" style="margin-top:20px">
			<div class="card"style="background-color: rgb(39, 41, 61);border: 0px;">
				<div class="card-body">
					<mat-tab-group>
						<mat-tab label="BONDS">
							<kt-widget4 flag= "Bond"></kt-widget4>
						</mat-tab>
						<mat-tab label="GILTS">
							<kt-widget4 flag ="Gilt"></kt-widget4>
						</mat-tab>
						<mat-tab label="FUNDS">
							<kt-widget4 flag = "Fund"></kt-widget4>
						</mat-tab>
					</mat-tab-group>
				</div>
			</div>
		</div>
	</div>
	<div class="row" *ngIf="_user.roles[0] == 1">
		<div class="col-xl-6">
			<div class="row row-full-height">
				<div class="col-sm-12 col-md-12 col-lg-6">
					<kt-portlet [class]="'kt-portlet--height-fluid-half kt-portlet--border-bottom-brand'">
						<kt-portlet-body [class]="'kt-portlet__body--fluid'">
							<kt-widget26 [value]="dataSourceAll.paginatorTotal$ | async"  [desc]="'Total Accounts'" [options]="chartOptions1"></kt-widget26>
						</kt-portlet-body>
					</kt-portlet>

					<div class="kt-space-20"></div>

					<kt-portlet [class]="'kt-portlet--height-fluid-half kt-portlet--border-bottom-brand'">
						<kt-portlet-body [class]="'kt-portlet__body--fluid'">
							<kt-widget26 [value]="format.format(totalGilt)" [desc]="'Total Gilt Investments'" [options]="chartOptions2"></kt-widget26>
						</kt-portlet-body>
					</kt-portlet>
				</div>
				<div class="col-sm-12 col-md-12 col-lg-6">
					<kt-portlet [class]="'kt-portlet--height-fluid-half kt-portlet--border-bottom-brand'">
						<kt-portlet-body [class]="'kt-portlet__body--fluid'">
							<kt-widget26 [value]="format.format(totalBond)" [desc]="'Total Bond Investments'" [options]="chartOptions3"></kt-widget26>
						</kt-portlet-body>
					</kt-portlet>

					<div class="kt-space-20"></div>

					<kt-portlet [class]="'kt-portlet--height-fluid-half kt-portlet--border-bottom-brand'">
						<kt-portlet-body [class]="'kt-portlet__body--fluid'">
							<kt-widget26 [value]="format.format(totalFund)" [desc]="'Total Fund Investments'" [options]="chartOptions4"></kt-widget26>
						</kt-portlet-body>
					</kt-portlet>
				</div>
			</div>
		</div>
		<div class="col-xl-6">
			<kt-portlet [class]="'kt-portlet--height-fluid'">
				<kt-portlet-header [title]="'Overview'">
					<!-- <ng-container ktPortletTools>
						<kt-context-menu2></kt-context-menu2>
					</ng-container> -->
				</kt-portlet-header>
				<kt-portlet-body>
					<kt-widget12 [totalEquity]="totalEquity" [userArr]="usersResult"></kt-widget12>
							<!-- <kt-widget4 flag= "Bond"></kt-widget4>
							<kt-widget4 flag ="Gilt"></kt-widget4>
							<kt-widget4 flag = "Fund"></kt-widget4> -->
				</kt-portlet-body>
			</kt-portlet>
		</div>
	</div>
</div>
<!-- <kt-portlet>
	<kt-portlet-body [class]="'kt-portlet__body--fit'">
		<div class="row row-no-padding row-col-separator-xl">
			<div class="col-xl-4">
				<kt-widget1></kt-widget1>
			</div>
			<div class="col-xl-4">
				<kt-widget14 [title]="'Daily Sales'" [desc]="'Check out each collumn for more details'"></kt-widget14>
			</div>
			<div class="col-xl-4">
				<kt-widget14 [title]="'Revenue Change'" [desc]="'Revenue change breakdown by cities'"></kt-widget14>
			</div>
		</div>
	</kt-portlet-body>
</kt-portlet>


<div class="row">
	<div class="col-xl-4">
		<kt-portlet [class]="'kt-portlet--height-fluid'">
			<kt-portlet-header [title]="'Download Files'">
				<ng-container ktPortletTools>
					<kt-context-menu2></kt-context-menu2>
				</ng-container>
			</kt-portlet-header>
			<kt-portlet-body>
				<kt-widget4 [data]="widget4_1">
					<ng-template #actionTemplate let-item="item">
						<div class="kt-widget4__tools">
							<a href="javascript:;" class="btn btn-clean btn-icon btn-sm">
								<i class="flaticon2-download-symbol-of-down-arrow-in-a-rectangle"></i>
							</a>
						</div>
					</ng-template>
				</kt-widget4>
			</kt-portlet-body>
		</kt-portlet>
	</div>
	<div class="col-xl-4">
		<kt-portlet [class]="'kt-portlet--height-fluid'">
			<kt-portlet-header [title]="'New Users'">
				<ng-container ktPortletTools>
					<kt-context-menu2></kt-context-menu2>
				</ng-container>
			</kt-portlet-header>
			<kt-portlet-body>
				<kt-widget4 [data]="widget4_2">
					<ng-template #actionTemplate let-item="item">
						<a href="javascript:;" class="btn btn-sm" [ngClass]="item.buttonClass">Follow</a>
					</ng-template>
				</kt-widget4>
			</kt-portlet-body>
		</kt-portlet>
	</div>
	<div class="col-xl-4">
		<kt-portlet [class]="'kt-portlet--height-fluid'">
			<kt-portlet-header [title]="'Latest Updates'">
				<ng-container ktPortletTools>
					<kt-context-menu2></kt-context-menu2>
				</ng-container>
			</kt-portlet-header>
			<kt-portlet-body>
				<kt-widget4 [data]="widget4_3">
					<ng-template #actionTemplate let-item="item">
						<span class="kt-widget4__number" [ngClass]="item.valueColor">{{item.value}}</span>
					</ng-template>
				</kt-widget4>
			</kt-portlet-body>
		</kt-portlet>
	</div>
</div>


<div class="row">
	<div class="col-xl-8">
		<kt-portlet [class]="'kt-portlet--height-fluid'">
			<kt-portlet-header [title]="'Exclusive Datatable'" [class]="'kt-portlet__head--lg kt-portlet__head--noborder kt-portlet__head--break-sm'">
				<ng-container ktPortletTools>
					<kt-context-menu></kt-context-menu>
				</ng-container>
			</kt-portlet-header>
			<kt-portlet-body [class]="'kt-portlet__body--fit'">
				<kt-data-table></kt-data-table>
			</kt-portlet-body>
		</kt-portlet>
	</div>
	<div class="col-xl-4">
		<kt-portlet [class]="'kt-portlet--height-fluid'">
			<kt-portlet-header [title]="'Authors Profit'">
				<ng-container ktPortletTools>
					<kt-context-menu2></kt-context-menu2>
				</ng-container>
			</kt-portlet-header>
			<kt-portlet-body>
				<kt-widget4 [data]="widget4_4">
					<ng-template #actionTemplate let-item="item">
						<span class="kt-widget4__number" [ngClass]="item.valueColor">{{item.value}}</span>
					</ng-template>
				</kt-widget4>
			</kt-portlet-body>
		</kt-portlet>
	</div>
</div>


<div class="row">
	<div class="col-xl-8">
		<kt-portlet [class]="'kt-portlet--height-fluid'">
			<kt-portlet-header [title]="'Best Sellers'">
				<ng-container ktPortletTools>
					<kt-context-menu2></kt-context-menu2>
				</ng-container>
			</kt-portlet-header>
			<kt-portlet-body>
				<kt-widget5></kt-widget5>
			</kt-portlet-body>
		</kt-portlet>
	</div>
	<div class="col-xl-4">
		<kt-portlet [class]="'kt-portlet--height-fluid'">
			<kt-portlet-header [title]="'Recent Activities'">
				<ng-container ktPortletTools>
					<kt-context-menu2></kt-context-menu2>
				</ng-container>
			</kt-portlet-header>
			<kt-portlet-body>
				<kt-timeline2></kt-timeline2>
			</kt-portlet-body>
		</kt-portlet>
	</div>
</div> -->


<!--
<kt-portlet>
	<kt-portlet-header>
		<ng-container ktPortletTitle>
		</ng-container>
		<ng-container ktPortletTools>
		</ng-container>
	</kt-portlet-header>
	<kt-portlet-body></kt-portlet-body>
	<kt-portlet-footer></kt-portlet-footer>
</kt-portlet>
-->
